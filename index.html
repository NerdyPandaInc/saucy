<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BOOMINU Comic Page</title>
  <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Navigation -->
  <nav>
    <ul class="menu">
      <li class="dropdown">
        <a href="#">Resources ▾</a>
        <ul class="dropdown-content">
          <li><a href="whitepaper.html">📄 Whitepaper</a></li>
          <li><a href="/roadmap/">🗺️ Roadmap</a></li>
          <li><a href="/docs/">📚 Docs</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <!-- Intro Modal -->
  <div id="intro-popup" class="intro-modal">
    <div class="intro-content">
      <h1>💥 Welcome to BOOMINU</h1>
      <p>Disclaimer: BoomInu is a community-driven meme token with no financial value. Always DYOR.</p>
      <button id="enterBtn" class="comic-button">Enter Site</button>
    </div>
  </div>

  <div class="background-overlay"></div>
  <div class="background-rotator bg1"></div>
  <div class="background-rotator bg2"></div>

  <header class="comic-header">
    <img src="images/boomInuLogo1.png" alt="BOOMINU Logo" class="comic-logo" />
    <h1>💥 BOOMINU: The Detonator of DeFi 💥</h1>
  </header>

  <main class="comic-container">

    <!-- Origin Story -->
    <section class="comic-panel origin-story">
      <div class="burst-title"><h2>📖 Origin Story</h2></div>
      <p class="fade-panel">
        In the depths of the memeverse, a lone Bear/Shiba hybrid strapped on a detonator and declared war on inflation. Born from the ashes of rug pulls and broken promises, <strong>Boom Inu</strong> was forged to bring explosive energy back to DeFi.
      </p>
      <p class="fade-panel">
        Every flip, every streak, every burn writes the legend of Boom Inu—etched forever on-chain.
      </p>
    </section>

    <!-- Highlights -->
    <section id="highlights">
      <h2>What Makes Boom Inu Different?</h2>
      <ul>
        <li><strong>Proof of Token Engagement (PoTE):</strong> Rewarding real user activity: flips, trades, and participation.</li>
        <li><strong>Dynamic Tax & Burn Engine:</strong> Adapts based on daily volume—more trading, more burns.</li>
        <li><strong>Autonomous Boost Windows:</strong> Reward-enhanced weekends—no human control, fully automated.</li>
        <li><strong>Deflationary by Design:</strong> Fixed supply with milestone-triggered burns that permanently reduce circulation.</li>
      </ul>
    </section>

    <!-- Tokenomics -->
    <section id="tokenomics">
      <h2>Tokenomics</h2>
      <ul>
        <li><strong>Total Supply:</strong> 10 Trillion BOOM</li>
        <li><strong>Phase 2 Activation:</strong> Circulating Supply ≤ 6 Trillion BOOM</li>
        <li><strong>Buy Tax:</strong> 2%</li>
        <li><strong>Sell Tax:</strong> Dynamic: 5% → 8% (based on volume)</li>
        <li><strong>Reflections:</strong> Activated in Phase 2—automatic rewards to holders</li>
        <li><strong>Treasury Burn:</strong> Daily volume burns + deployer bonus</li>
        <li><strong>Flip Streaks:</strong> 3 swaps in 24 hours = double reflections for 24h</li>
        <li><strong>Boost Weekends:</strong> Automatic enhanced rewards on Sat/Sun</li>
      </ul>
    </section>

    <!-- Meme Generator -->
    <section id="meme-generator" class="comic-panel fade-panel">
      <h2>Create Your Boom Inu Meme</h2>
      <div class="form-group">
        <label for="topText">Top Text:</label>
        <input type="text" id="topText" placeholder="Top text" class="comic-button">
      </div>
      <div class="form-group">
        <label for="bottomText">Bottom Text:</label>
        <input type="text" id="bottomText" placeholder="Bottom text" class="comic-button">
      </div>
      <button class="comic-button" onclick="generateMeme()">Generate Meme</button>
      <button class="comic-button" onclick="downloadMeme()">Download Meme</button>
      <div id="preview" class="meme-preview-container"><img id="memeImage" src="" alt="Meme Preview"></div>
    </section>

    <!-- BOOMINU Tracker -->
    <section id="tracker" class="comic-panel fade-panel">
      <h2>💥 Boom Inu Tracker</h2>
      <p><strong>Your Wallet:</strong> <span id="walletAddress">Not Connected</span></p>
      <p><strong>Current Flip Streak:</strong> <span id="flipStreak">-</span></p>
      <p><strong>Available Reflections:</strong> <span id="reflections">-</span> BOOM</p>
      <button class="comic-button" onclick="connectWallet()">Connect Wallet</button>
      <button class="comic-button" onclick="claimReflections()">Claim Reflections</button>
    </section>

  </main>

  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script>
    const CONTRACT_ADDRESS = "YOUR_CONTRACT_ADDRESS";  // Replace this
    const ABI = [ /* PASTE_YOUR_ABI_HERE */ ];

    let provider, signer, contract;

    async function connectWallet() {
      if (window.ethereum) {
        provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        signer = provider.getSigner();
        const user = await signer.getAddress();
        document.getElementById("walletAddress").innerText = user;
        contract = new ethers.Contract(CONTRACT_ADDRESS, ABI, signer);
        fetchStats(user);
      } else {
        alert("MetaMask not detected.");
      }
    }

    async function fetchStats(user) {
      try {
        const streak = await contract.flipStreak(user);
        const [ , owed ] = await contract.callStatic._calculateOwed(user);
        document.getElementById("flipStreak").innerText = streak.toString();
        document.getElementById("reflections").innerText = (owed / 1e18).toFixed(2);
      } catch (e) {
        console.error(e);
      }
    }

    async function claimReflections() {
      try {
        const tx = await contract.claimAllFull(1);
        await tx.wait();
        alert("Reflections claimed!");
      } catch (e) {
        console.error(e);
        alert("Claim failed");
      }
    }

    function generateMeme() {
      const top = document.getElementById("topText").value || "_";
      const bottom = document.getElementById("bottomText").value || "_";
      const memeUrl = `https://api.memegen.link/images/doge/${encodeURIComponent(top)}/${encodeURIComponent(bottom)}.png`;
      document.getElementById("memeImage").src = memeUrl;
    }

    function downloadMeme() {
      const link = document.createElement('a');
      link.href = document.getElementById('memeImage').src;
      link.download = 'boom-meme.png';
      link.click();
    }

    document.getElementById("enterBtn").addEventListener("click", () => {
      document.getElementById("intro-popup").style.display = "none";
    });
  </script>
</body>
</html>
